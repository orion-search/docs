<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<title data-react-helmet="true">Operators | Orion</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Operators | Orion"><meta data-react-helmet="true" name="description" content="Airflow Operators in Orion"><meta data-react-helmet="true" property="og:description" content="Airflow Operators in Orion"><meta data-react-helmet="true" property="og:url" content="https://orion-search.github.io/docs/docs/Operators"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://orion-search.github.io/docs/docs/Operators"><link rel="stylesheet" href="/docs/styles.e6e8e8cd.css">
<link rel="preload" href="/docs/styles.1667a3ac.js" as="script">
<link rel="preload" href="/docs/runtime~main.81c217c2.js" as="script">
<link rel="preload" href="/docs/main.699aadc8.js" as="script">
<link rel="preload" href="/docs/1.2525661c.js" as="script">
<link rel="preload" href="/docs/2.71e354db.js" as="script">
<link rel="preload" href="/docs/36.962bbfeb.js" as="script">
<link rel="preload" href="/docs/37.6b2984da.js" as="script">
<link rel="preload" href="/docs/64f9f2ab.21b20305.js" as="script">
<link rel="preload" href="/docs/17896441.d74c7bc7.js" as="script">
<link rel="preload" href="/docs/08f728c0.057e5c62.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.png" alt="Orion Search logo"><strong class="navbar__title">Orion</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/orion-search" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.png" alt="Orion Search logo"><strong class="navbar__title">Orion</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/orion-search" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/Data Sources">Data Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/Research Indicators">Research Indicators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/External Dependencies">External Dependencies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/Contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/Use Cases">Use Cases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/doc1">Style Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">ETL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/Data Pipeline">Data Pipeline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/The model config file">The model config file</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/docs/Operators">Operators</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/running_etl">Running Orion&#x27;s ETL</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Operators</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="airflow-operators-in-orion"></a>Airflow Operators in Orion<a aria-hidden="true" tabindex="-1" class="hash-link" href="#airflow-operators-in-orion" title="Direct link to heading">#</a></h1><p>Every operator fetches data from a <strong>PostgreSQL</strong> database, <strong>AWS S3</strong> or an <strong>API</strong>, applies a set of transformations and stores them in a PostgreSQL database or AWS S3. We list Orion&#x27;s operators below:</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="affiliationtypeoperator"></a><code>AffiliationTypeOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#affiliationtypeoperator" title="Direct link to heading">#</a></h2><p>Splits the affiliations to industry (= 0) and non-industry (= 1) using a seed list of tokens. The seed list can be found in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="rcaoperator"></a><code>RCAOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#rcaoperator" title="Direct link to heading">#</a></h2><p>Measures the country-level and affiliation-level thematic topic specialisation on an annual basis using the Revealed Comparative Advantage (RCA). It creates this indicator by summing the number of citations of a country (or affiliation) on a particular topic. An entity with an RCA &gt; 1 is more specialised on a topic than the rest of the entities. Before measuring RCA, it filters publications by year and the countries by their number of papers. You can change the thresholds in the <code>model_config.yaml</code>.</p><p>Note that instead of summing citations to measure the RCA, you can use the <a href="https://github.com/orion-search/orion/blob/dev/orion/packages/metrics/metrics.py#L59">number of papers.</a> </p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="researchdiversityoperator"></a><code>ResearchDiversityOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#researchdiversityoperator" title="Direct link to heading">#</a></h2><p>Measures the country-level research diversity for each topic on an annual basis. For each topic, it recursively collects its children topics and creates a country-level count vector. It measures diversity with the Shannon-Wiener and Simpson indexes. You can filter countries by the number of Fields of Study they have used and the papers by their publication year. You can modify the thresholds in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="genderdiversityoperator"></a><code>GenderDiversityOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#genderdiversityoperator" title="Direct link to heading">#</a></h2><p>Measures the country-level gender diversity for each topic on an annual basis. For each topic and year, it first finds the share of women in each publication and then averages it to create the indicator. You can filter countries by their number of publications and author names by the accuracy of the name-gender-inference service. You can modify the thresholds in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="wbindicatoroperator"></a><code>WBIndicatorOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#wbindicatoroperator" title="Direct link to heading">#</a></h2><p>Collects country-level World Bank indicators using <a href="https://github.com/pydata/pandas-datareader" target="_blank" rel="noopener noreferrer">pandas-datareader</a>, a Python package that gives access to <a href="https://pandas-datareader.readthedocs.io/en/latest/readers/index.html">economic databases</a>. You can choose indicators and filter them by timeframe and country in the <code>model_config.yaml</code>. </p><blockquote><p>If you plan to collect indicators that are not listed here, you have to create an ORM for them.</p></blockquote><p><strong>Source</strong>: World Bank API<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="homogenisecountrynamesoperator"></a><code>HomogeniseCountryNamesOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#homogenisecountrynamesoperator" title="Direct link to heading">#</a></h2><p>Homogenises country names from Google Places API and the World Bank. It uses a country mapping dictionary from <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="countrydetailsoperator"></a><code>CountryDetailsOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#countrydetailsoperator" title="Direct link to heading">#</a></h2><p>Fetches additional country details such as continent, country code and population from the <a href="https://restcountries.eu/" target="_blank" rel="noopener noreferrer">restcountries API</a>. </p><p><strong>Source</strong>: PostgreSQL, restcountries API<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="createviztables"></a><code>CreateVizTables</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#createviztables" title="Direct link to heading">#</a></h2><p>Creates the following tables that are used in the front-end:</p><ul><li><code>CountryTopicOutput</code>: Shows a country&#x27;s total citations and paper volume by year and topic.</li><li><code>AllMetrics</code>: Combines all the metrics (gender diversity, research diversity, RCA) we&#x27;ve derived by year and topic.</li><li><code>PaperCountry</code>: Shows the paper IDs of a country. Used in the particle visualisation.</li><li><code>PaperTopics</code>: Shows the paper IDs of a topic. Used in the particle visualisation.</li><li><code>PaperYear</code>: Shows the paper IDs of a year. Used in the particle visualisation.</li></ul><blockquote><p>Topics are fetched from the <code>FilteredFos</code> table.</p></blockquote><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dimreductionoperator"></a><code>DimReductionOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dimreductionoperator" title="Direct link to heading">#</a></h2><p>Transforms high dimensional arrays to 3D using UMAP. The output table is used in the front-end. You can filter documents by their character length or exclude them using their MAG ID. You can also tune UMAP&#x27;s hyperparameters. This configuration is done in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="countrycollaborationoperator"></a><code>CountryCollaborationOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#countrycollaborationoperator" title="Direct link to heading">#</a></h2><p>Draws a collaboration graph between countries based on the author affiliations. Papers are filtered by their publication year. You can modify this in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="countrysimilarityoperator"></a><code>CountrySimilarityOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#countrysimilarityoperator" title="Direct link to heading">#</a></h2><p>Finds the similarity between countries based on their abstracts. It averages the abstract vectors of a country to create a country vector. Uses the text vectors that were calculated from the <code>text2vector</code> task. You can filter papers by publication year and choose the number of similar countries to return by modifying the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="faissindexoperator"></a><code>FaissIndexOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#faissindexoperator" title="Direct link to heading">#</a></h2><p>Creates a FAISS index using the text vectors that were calculated from the <code>text2vector</code> task.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: AWS S3</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="namesbatchesoperator"></a><code>NamesBatchesOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#namesbatchesoperator" title="Direct link to heading">#</a></h2><p>Fetches authors&#x27; full names and removes those with just an initial. It stores the rest of the author names in batches. You can specify the number of batches in the <code>model_config.yaml</code>. </p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: AWS S3</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="genderinferenceoperator"></a><code>GenderInferenceOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#genderinferenceoperator" title="Direct link to heading">#</a></h2><p>Infers an authors&#x27; gender using their full name. This is a batch task and you have to define the number of batches in the <code>NamesBatchesOperator</code>.</p><p><strong>Source</strong>: AWS S3<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="magcollectionoperator"></a><code>MagCollectionOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#magcollectionoperator" title="Direct link to heading">#</a></h2><p>Queries Microsoft Academic Knowledge API with a conference, journal or field of study. You can modify the task by tweaking the following parameters in the <code>model_config.yaml</code>:</p><ul><li><code>with_doi</code>: If <code>true</code>, it collects only documents with a DOI.</li><li><code>mag_start_date</code>: Starting date for the data collection. This corresponds to the paper publication date.</li><li><code>mag_end_date</code>: Ending date for the data collection. This corresponds to the paper publication date.</li><li><code>intervals_in_a_year</code>: The number of time periods in a year. MAG throttles computationally costly queries. The higher the number of the <code>intervals_in_a_year</code>, the lower the chance for your request to be throttled.</li><li><code>metadata</code>: The fields from MAG to be collected.</li><li><code>query_values</code>: Name of your query (for example, <em>biorxiv</em>),</li><li><code>entity_name</code>: Specify if you are collecting a journal, conference or field of study.</li></ul><blockquote><p>Possible values in the <code>entity_name</code>:</p><ul><li>Field of study: <code>F.FN</code></li><li>Conference: <code>C.CN</code> </li><li>Journal: <code>J.JN</code></li></ul></blockquote><p><strong>Source</strong>: Microsoft Academic Knowledge API<br>
<strong>Target</strong>: AWS S3</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="magfoscollectionoperator"></a><code>MagFosCollectionOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#magfoscollectionoperator" title="Direct link to heading">#</a></h2><p>Fetches Fields of Study IDs and collects their level in the hierarchy, child and parent Fields of Study from Microsoft Academic Graph.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="geocodingoperator"></a><code>GeocodingOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#geocodingoperator" title="Direct link to heading">#</a></h2><p>Geocodes affiliations names.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="magparseroperator"></a><code>MagParserOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#magparseroperator" title="Direct link to heading">#</a></h2><p>Fetches and parses MAG responses and populates Orion&#x27;s database.</p><p><strong>Source</strong>: AWS S3<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="fosfrequencyoperator"></a><code>FosFrequencyOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fosfrequencyoperator" title="Direct link to heading">#</a></h2><p>Calculates the frequency of Fields of Study.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="openaccessjournaloperator"></a><code>OpenAccessJournalOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#openaccessjournaloperator" title="Direct link to heading">#</a></h2><p>Splits the journals to non-open access (= 0) and open access (= 1) using a seed list of tokens. You can modify the seed list in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="postgreqsl2elasticsearchoperator"></a><code>Postgreqsl2ElasticSearchOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#postgreqsl2elasticsearchoperator" title="Direct link to heading">#</a></h2><p>Migrates some data from PostgreSQL to Elasticsearch and creates an index with the following metadata for every paper:</p><ul><li>Title</li><li>Abstract</li><li>Citations</li><li>Publication date</li><li>Publication year</li><li>Field of study ID</li><li>Field of study name</li><li>Author name</li><li>Author affiliation</li></ul><p>By default, it deletes the index (if it exists) before indexing documents. You can modify this in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: AWS Elasticsearch service</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="text2vectoroperator"></a><code>Text2VectorOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#text2vectoroperator" title="Direct link to heading">#</a></h2><p>Uses a pretrained model (DistilBERT) from the <a href="https://github.com/huggingface/transformers" target="_blank" rel="noopener noreferrer">transformers</a> library to create word vectors which are then averaged to produce a document vector. </p><blockquote><p>Using a GPU for this task will decrease the vector inference time.</p></blockquote><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="text2tfidfoperator"></a><code>Text2TfidfOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#text2tfidfoperator" title="Direct link to heading">#</a></h2><p>Transforms text to vectors using TF-IDF and SVD. TF-IDF from scikit-learn preprocesses the data and SVD reduces the dimensionality of the document vectors. </p><blockquote><p>This is the fastest text vectorisation method in Orion and should be your first choice.</p></blockquote><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target:</strong> PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="text2sentencebertoperator"></a><code>Text2SentenceBertOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#text2sentencebertoperator" title="Direct link to heading">#</a></h2><p>Creates sentence-level embeddings using a pretrained <a href="https://github.com/UKPLab/sentence-transformers" target="_blank" rel="noopener noreferrer">sentence DistilBERT model</a>. It batches documents to speed up the inference. You can modify the batch size and choose another BERT model in the <code>model_config.yaml</code>.</p><blockquote><p>Using a GPU for this task will decrease the vector inference time.</p></blockquote><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target:</strong> PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="filtertopicsbydistributionoperator"></a><code>FilterTopicsByDistributionOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#filtertopicsbydistributionoperator" title="Direct link to heading">#</a></h2><p>Filter topics by level in the MAG hierarchy and frequency. These topics are used to calculate the Orion&#x27;s metrics and are shown in the front-end. You can modify the level and frequency thresholds in the <code>model_config.yaml</code>.</p><p><strong>Source</strong>: PostgreSQL<br>
<strong>Target</strong>: AWS S3</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="filteredtopicsmetadataoperator"></a><code>FilteredTopicsMetadataOperator</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#filteredtopicsmetadataoperator" title="Direct link to heading">#</a></h2><p>Creates a table with the filtered Fields of Study, their children, annual citation sum and paper count.</p><p><strong>Source</strong>: AWS S3<br>
<strong>Target</strong>: PostgreSQL</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="pythonoperators3_bucket_name"></a><code>PythonOperator(&quot;S3_BUCKET_NAME&quot;)</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pythonoperators3_bucket_name" title="Direct link to heading">#</a></h2><p>Creates Orion&#x27;s S3 buckets. The Airflow task is named after the S3 bucket it creates.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="pythonoperatorcreate_tables"></a><code>PythonOperator(&quot;create_tables&quot;)</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pythonoperatorcreate_tables" title="Direct link to heading">#</a></h2><p>Creates Orion&#x27;s PostgreSQL tables and instantiates a database if it does not exist.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dummyoperators"></a><code>DummyOperators</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dummyoperators" title="Direct link to heading">#</a></h2><p>Orion uses a number of <code>DummyOperators</code> to ease the visual navigation of the DAG. These tasks do not transform or move data around. We list them below:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dummy_task </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DummyOperator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task_id</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;start&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dummy_task_2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DummyOperator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task_id</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;gender_agg&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dummy_task_3 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DummyOperator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task_id</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;world_bank_indicators&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dummy_task_4 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DummyOperator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task_id</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;create_s3_buckets&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dummy_task_5 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DummyOperator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task_id</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_buckets&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/Operators.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/docs/The model config file"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« The model config file</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/docs/running_etl"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Running Orion&#x27;s ETL »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#affiliationtypeoperator" class="table-of-contents__link"><code>AffiliationTypeOperator</code></a></li><li><a href="#rcaoperator" class="table-of-contents__link"><code>RCAOperator</code></a></li><li><a href="#researchdiversityoperator" class="table-of-contents__link"><code>ResearchDiversityOperator</code></a></li><li><a href="#genderdiversityoperator" class="table-of-contents__link"><code>GenderDiversityOperator</code></a></li><li><a href="#wbindicatoroperator" class="table-of-contents__link"><code>WBIndicatorOperator</code></a></li><li><a href="#homogenisecountrynamesoperator" class="table-of-contents__link"><code>HomogeniseCountryNamesOperator</code></a></li><li><a href="#countrydetailsoperator" class="table-of-contents__link"><code>CountryDetailsOperator</code></a></li><li><a href="#createviztables" class="table-of-contents__link"><code>CreateVizTables</code></a></li><li><a href="#dimreductionoperator" class="table-of-contents__link"><code>DimReductionOperator</code></a></li><li><a href="#countrycollaborationoperator" class="table-of-contents__link"><code>CountryCollaborationOperator</code></a></li><li><a href="#countrysimilarityoperator" class="table-of-contents__link"><code>CountrySimilarityOperator</code></a></li><li><a href="#faissindexoperator" class="table-of-contents__link"><code>FaissIndexOperator</code></a></li><li><a href="#namesbatchesoperator" class="table-of-contents__link"><code>NamesBatchesOperator</code></a></li><li><a href="#genderinferenceoperator" class="table-of-contents__link"><code>GenderInferenceOperator</code></a></li><li><a href="#magcollectionoperator" class="table-of-contents__link"><code>MagCollectionOperator</code></a></li><li><a href="#magfoscollectionoperator" class="table-of-contents__link"><code>MagFosCollectionOperator</code></a></li><li><a href="#geocodingoperator" class="table-of-contents__link"><code>GeocodingOperator</code></a></li><li><a href="#magparseroperator" class="table-of-contents__link"><code>MagParserOperator</code></a></li><li><a href="#fosfrequencyoperator" class="table-of-contents__link"><code>FosFrequencyOperator</code></a></li><li><a href="#openaccessjournaloperator" class="table-of-contents__link"><code>OpenAccessJournalOperator</code></a></li><li><a href="#postgreqsl2elasticsearchoperator" class="table-of-contents__link"><code>Postgreqsl2ElasticSearchOperator</code></a></li><li><a href="#text2vectoroperator" class="table-of-contents__link"><code>Text2VectorOperator</code></a></li><li><a href="#text2tfidfoperator" class="table-of-contents__link"><code>Text2TfidfOperator</code></a></li><li><a href="#text2sentencebertoperator" class="table-of-contents__link"><code>Text2SentenceBertOperator</code></a></li><li><a href="#filtertopicsbydistributionoperator" class="table-of-contents__link"><code>FilterTopicsByDistributionOperator</code></a></li><li><a href="#filteredtopicsmetadataoperator" class="table-of-contents__link"><code>FilteredTopicsMetadataOperator</code></a></li><li><a href="#pythonoperators3_bucket_name" class="table-of-contents__link"><code>PythonOperator(&quot;S3_BUCKET_NAME&quot;)</code></a></li><li><a href="#pythonoperatorcreate_tables" class="table-of-contents__link"><code>PythonOperator(&quot;create_tables&quot;)</code></a></li><li><a href="#dummyoperators" class="table-of-contents__link"><code>DummyOperators</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/docs/running_etl">Tutorials</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/kstathou" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/orion-search" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Orion Search. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/styles.1667a3ac.js"></script>
<script src="/docs/runtime~main.81c217c2.js"></script>
<script src="/docs/main.699aadc8.js"></script>
<script src="/docs/1.2525661c.js"></script>
<script src="/docs/2.71e354db.js"></script>
<script src="/docs/36.962bbfeb.js"></script>
<script src="/docs/37.6b2984da.js"></script>
<script src="/docs/64f9f2ab.21b20305.js"></script>
<script src="/docs/17896441.d74c7bc7.js"></script>
<script src="/docs/08f728c0.057e5c62.js"></script>
</body>
</html>